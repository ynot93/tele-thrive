<html>

<head>
	<title>Meetings</title>
	<style>
		body {
			background-color: #333;
			margin: 0;
			padding: 0;
		}

		#root {
			width: 100vw;
			height: 100vh;
		}
	</style>
</head>


<body>
	<!-- <div id="root">
		<div class="back">
			<a href="{{ url_for('get_appointments') }}" style="text-decoration: none;">
				<button>Back</button>
			</a>
		</div>

		{% if is_therapist %}
		<div class="therapist-specific-content">
			<h3>Welcome, {{ username }}!</h3>
			<p>This section includes tools and information for therapists.</p>
		</div>
		{% else %}
		<div class="user-specific-content">
			<h3>Welcome, {{ username }}!</h3>
			<p>This section includes features and resources for users seeking therapy.</p>
		</div>
		{% endif %}
	</div> -->
</body>
<script src="https://unpkg.com/@zegocloud/zego-uikit-prebuilt/zego-uikit-prebuilt.js"></script>
<script>
	window.onload = function () {
		function getUrlParams(url) {
			let urlStr = url.split('?')[1];
			const urlSearchParams = new URLSearchParams(urlStr);
			const result = Object.fromEntries(urlSearchParams.entries());
			return result;
		}


		// Generate a Token by calling a method.
		// @param 1: appID
		// @param 2: serverSecret
		// @param 3: Room ID
		// @param 4: User ID
		// @param 5: Username
		const roomID = getUrlParams(window.location.href)['roomID'] || (Math.floor(Math.random() * 10000) + "");
		const userID = Math.floor(Math.random() * 10000) + "";
		const userName = "{{username}}";
		const appID = 626404441;
		const serverSecret = "f3e0bb99847a4175a5753b102854a152";
		const kitToken = ZegoUIKitPrebuilt.generateKitTokenForTest(appID, serverSecret, roomID, userID, userName);


		const zp = ZegoUIKitPrebuilt.create(kitToken);
		zp.joinRoom({
			container: document.querySelector("#root"),
			sharedLinks: [{
				name: 'Personal link',
				url: window.location.protocol + '//' + window.location.host + window.location.pathname + '?roomID=' + roomID,
			}],
			scenario: {
				mode: ZegoUIKitPrebuilt.VideoConference,
			},

			turnOnMicrophoneWhenJoining: true,
			turnOnCameraWhenJoining: true,
			showMyCameraToggleButton: true,
			showMyMicrophoneToggleButton: true,
			showAudioVideoSettingsButton: true,
			showScreenSharingButton: true,
			showTextChat: true,
			showUserList: true,
			maxUsers: 2,
			layout: "Auto",
			showLayoutButton: false,

		});
	}
</script>

</html>